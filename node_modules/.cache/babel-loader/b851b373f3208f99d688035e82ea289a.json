{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nexport const TOKEN_NAME = \"token\";\n\nfunction getTokenFromLocal() {\n  return localStorage.getItem(TOKEN_NAME);\n}\n\nfunction setTokenToLocal(token) {\n  localStorage.setItem(TOKEN_NAME, token);\n}\n\nexport const useAuth = () => {\n  _s();\n\n  const [authenticated, setAuthenticated] = useState(false);\n\n  const login = async newToken => {\n    if (newToken) {\n      setTokenToLocal(newToken);\n      setAuthenticated(true);\n    }\n  };\n\n  const logout = async () => {\n    setTokenToLocal(\"\");\n    setAuthenticated(false);\n  };\n\n  useEffect(() => {\n    const token = getTokenFromLocal();\n\n    if (token) {\n      setAuthenticated(true);\n    } else {\n      setAuthenticated(false);\n    }\n  }, []);\n  return {\n    authenticated,\n    login,\n    logout\n  };\n};\n\n_s(useAuth, \"+nyo0O1WmcKNkwQZH3xRKUoDvQ8=\");","map":{"version":3,"sources":["/Users/fanlane/code/project3-frontend/src/auth/index.js"],"names":["useEffect","useState","TOKEN_NAME","getTokenFromLocal","localStorage","getItem","setTokenToLocal","token","setItem","useAuth","authenticated","setAuthenticated","login","newToken","logout"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,OAAO,MAAMC,UAAU,GAAG,OAAnB;;AAEP,SAASC,iBAAT,GAA6B;AAC3B,SAAOC,YAAY,CAACC,OAAb,CAAqBH,UAArB,CAAP;AACD;;AAED,SAASI,eAAT,CAAyBC,KAAzB,EAAgC;AAC9BH,EAAAA,YAAY,CAACI,OAAb,CAAqBN,UAArB,EAAiCK,KAAjC;AACD;;AAED,OAAO,MAAME,OAAO,GAAG,MAAM;AAAA;;AAC3B,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCV,QAAQ,CAAC,KAAD,CAAlD;;AAEA,QAAMW,KAAK,GAAG,MAAOC,QAAP,IAAoB;AAChC,QAAIA,QAAJ,EAAc;AACZP,MAAAA,eAAe,CAACO,QAAD,CAAf;AACAF,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD;AACF,GALD;;AAOA,QAAMG,MAAM,GAAG,YAAY;AACzBR,IAAAA,eAAe,CAAC,EAAD,CAAf;AACAK,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACD,GAHD;;AAKAX,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMO,KAAK,GAAGJ,iBAAiB,EAA/B;;AACA,QAAII,KAAJ,EAAW;AACTI,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD,KAFD,MAEO;AACLA,MAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACD;AACF,GAPQ,EAON,EAPM,CAAT;AASA,SAAO;AACLD,IAAAA,aADK;AAELE,IAAAA,KAFK;AAGLE,IAAAA;AAHK,GAAP;AAKD,CA7BM;;GAAML,O","sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nexport const TOKEN_NAME = \"token\";\r\n\r\nfunction getTokenFromLocal() {\r\n  return localStorage.getItem(TOKEN_NAME);\r\n}\r\n\r\nfunction setTokenToLocal(token) {\r\n  localStorage.setItem(TOKEN_NAME, token);\r\n}\r\n\r\nexport const useAuth = () => {\r\n  const [authenticated, setAuthenticated] = useState(false);\r\n\r\n  const login = async (newToken) => {\r\n    if (newToken) {\r\n      setTokenToLocal(newToken);\r\n      setAuthenticated(true);\r\n    }\r\n  };\r\n\r\n  const logout = async () => {\r\n    setTokenToLocal(\"\");\r\n    setAuthenticated(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const token = getTokenFromLocal();\r\n    if (token) {\r\n      setAuthenticated(true);\r\n    } else {\r\n      setAuthenticated(false);\r\n    }\r\n  }, []);\r\n\r\n  return {\r\n    authenticated,\r\n    login,\r\n    logout,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}