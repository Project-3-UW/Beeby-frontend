{"ast":null,"code":"var _jsxFileName = \"/Users/fanlane/code/project3-frontend/src/pages/signup/index.js\",\n    _s = $RefreshSig$();\n\nimport { FormControlLabel, FormGroup, Switch, TextField, Button, Typography, Select, MenuItem, FormControl, InputLabel } from \"@material-ui/core\";\nimport { useAlert } from \"react-alert\";\nimport { Box } from \"@material-ui/system\";\nimport styles from \"./styles.module.css\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { signUp } from \"./service/request\";\nimport { getLocation } from \"../../utils/location\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst babyAgeRange = [\"0-6m\", \"6-12m\", \"12-18m\", \"18-24m\", \"2-3 years\", \"3-4 years\", \"4 years and up\"];\n\nconst SignUp = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const alert = useAlert();\n  const [firstname, setFirstname] = useState(\"\");\n  const [lastname, setLastname] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [babyAge, setBabyAge] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmedPassword, setConfirmedPassword] = useState(\"\");\n  const [position, setPosition] = useState([]);\n  const [allowLocation, setAllowLocation] = useState(true);\n  const [allowNotication, setAllowNotication] = useState(true);\n\n  const renderBabyRange = () => {\n    return babyAgeRange.map(range => {\n      return /*#__PURE__*/_jsxDEV(MenuItem, {\n        value: range,\n        children: range\n      }, range, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  useEffect(() => {\n    if (allowLocation) {\n      getLocation().then(pos => {\n        setPosition(pos);\n        console.log(pos);\n      }).catch(err => {\n        alert.error(err);\n      });\n    } else {\n      setPosition([]);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [allowLocation]);\n\n  const handleSubmit = async () => {\n    if (!firstname || !lastname || !email || !password) {\n      alert.error(\"Please enter all fields!\");\n      return;\n    }\n\n    if (password.length < 8) {\n      alert.error(\"Password length must more than eight!\");\n      return;\n    }\n\n    if (password !== confirmedPassword) {\n      alert.error(\"Password is not same as confirm password!!\");\n      return;\n    }\n\n    try {\n      await signUp(firstname, lastname, email, password, position[0], position[1]);\n      alert.success(\"Success to sign up!!\");\n      setTimeout(() => {\n        navigate(\"/signin\");\n      }, 1000);\n    } catch (err) {\n      const errors = err.response.data.err.errors;\n\n      if (errors[0] && errors[0].message) {\n        alert.error(errors[0].message);\n      } //alert.error(err.response.data);\n\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.wrapper,\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      marginTop: \"40px\",\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h2\",\n        component: \"div\",\n        gutterBottom: true,\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      width: \"400px\",\n      marginTop: \"20px\",\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"First name\",\n        value: firstname,\n        onChange: e => setFirstname(e.target.value),\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      width: \"400px\",\n      marginTop: \"20px\",\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Last name\",\n        value: lastname,\n        onChange: e => setLastname(e.target.value),\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      width: \"400px\",\n      marginTop: \"20px\",\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        type: \"email\",\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      width: \"400px\",\n      marginTop: \"20px\",\n      children: /*#__PURE__*/_jsxDEV(FormControl, {\n        fullWidth: true,\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"age-range\",\n          children: \"Age Range\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          labelId: \"age-range\",\n          label: \"Baby Age\",\n          value: babyAge,\n          onChange: e => setBabyAge(e.target.value),\n          children: renderBabyRange()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      width: \"400px\",\n      marginTop: \"20px\",\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        type: \"password\",\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      width: \"400px\",\n      marginTop: \"20px\",\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        value: confirmedPassword,\n        onChange: e => setConfirmedPassword(e.target.value),\n        label: \"Confirm Password\",\n        type: \"password\",\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      width: \"400px\",\n      marginTop: \"10px\",\n      display: \"flex\",\n      gap: \"10px\",\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        children: \"Already has Account?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/signin\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      width: \"400px\",\n      marginTop: \"20px\",\n      children: /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n          control: /*#__PURE__*/_jsxDEV(Switch, {\n            defaultChecked: true,\n            value: allowLocation,\n            onChange: e => setAllowLocation(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this),\n          label: \"Share Location\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n          control: /*#__PURE__*/_jsxDEV(Switch, {\n            defaultChecked: true,\n            value: allowNotication,\n            onChange: e => setAllowNotication(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this),\n          label: \"Open Notication\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      width: \"400px\",\n      marginTop: \"40px\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSubmit,\n        variant: \"contained\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SignUp, \"8yXGYC3FZa+kPEHLmusjd06KN5M=\", false, function () {\n  return [useNavigate, useAlert];\n});\n\n_c = SignUp;\nexport default SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"sources":["/Users/fanlane/code/project3-frontend/src/pages/signup/index.js"],"names":["FormControlLabel","FormGroup","Switch","TextField","Button","Typography","Select","MenuItem","FormControl","InputLabel","useAlert","Box","styles","Link","useNavigate","useEffect","useState","signUp","getLocation","babyAgeRange","SignUp","navigate","alert","firstname","setFirstname","lastname","setLastname","email","setEmail","babyAge","setBabyAge","password","setPassword","confirmedPassword","setConfirmedPassword","position","setPosition","allowLocation","setAllowLocation","allowNotication","setAllowNotication","renderBabyRange","map","range","then","pos","console","log","catch","err","error","handleSubmit","length","success","setTimeout","errors","response","data","message","wrapper","e","target","value","checked"],"mappings":"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","sourcesContent":["import {\r\n  FormControlLabel,\r\n  FormGroup,\r\n  Switch,\r\n  TextField,\r\n  Button,\r\n  Typography,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n} from \"@material-ui/core\";\r\nimport { useAlert } from \"react-alert\";\r\nimport { Box } from \"@material-ui/system\";\r\nimport styles from \"./styles.module.css\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { signUp } from \"./service/request\";\r\nimport { getLocation } from \"../../utils/location\";\r\n\r\nconst babyAgeRange = [\r\n  \"0-6m\",\r\n  \"6-12m\",\r\n  \"12-18m\",\r\n  \"18-24m\",\r\n  \"2-3 years\",\r\n  \"3-4 years\",\r\n  \"4 years and up\",\r\n];\r\n\r\nconst SignUp = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const alert = useAlert();\r\n  const [firstname, setFirstname] = useState(\"\");\r\n  const [lastname, setLastname] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [babyAge, setBabyAge] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmedPassword, setConfirmedPassword] = useState(\"\");\r\n  const [position, setPosition] = useState([]);\r\n  const [allowLocation, setAllowLocation] = useState(true);\r\n  const [allowNotication, setAllowNotication] = useState(true);\r\n\r\n  const renderBabyRange = () => {\r\n    return babyAgeRange.map((range) => {\r\n      return (\r\n        <MenuItem value={range} key={range}>\r\n          {range}\r\n        </MenuItem>\r\n      );\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (allowLocation) {\r\n      getLocation()\r\n        .then((pos) => {\r\n          setPosition(pos);\r\n          console.log(pos);\r\n        })\r\n        .catch((err) => {\r\n          alert.error(err);\r\n        });\r\n    } else {\r\n      setPosition([]);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [allowLocation]);\r\n\r\n  const handleSubmit = async () => {\r\n    if (!firstname || !lastname || !email || !password) {\r\n      alert.error(\"Please enter all fields!\");\r\n      return;\r\n    }\r\n    if (password.length < 8) {\r\n      alert.error(\"Password length must more than eight!\");\r\n      return;\r\n    }\r\n    if (password !== confirmedPassword) {\r\n      alert.error(\"Password is not same as confirm password!!\");\r\n      return;\r\n    }\r\n    try {\r\n      await signUp(\r\n        firstname,\r\n        lastname,\r\n        email,\r\n        password,\r\n        position[0],\r\n        position[1]\r\n      );\r\n      alert.success(\"Success to sign up!!\");\r\n      setTimeout(() => {\r\n        navigate(\"/signin\");\r\n      }, 1000);\r\n    } catch (err) {\r\n      const errors = err.response.data.err.errors;\r\n      if (errors[0] && errors[0].message) {\r\n        alert.error(errors[0].message);\r\n      }\r\n      //alert.error(err.response.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <Box marginTop=\"40px\">\r\n        <Typography variant=\"h2\" component=\"div\" gutterBottom>\r\n          Sign Up\r\n        </Typography>\r\n      </Box>\r\n      <Box width=\"400px\" marginTop=\"20px\">\r\n        <TextField\r\n          fullWidth\r\n          label=\"First name\"\r\n          value={firstname}\r\n          onChange={(e) => setFirstname(e.target.value)}\r\n          variant=\"outlined\"\r\n        />\r\n      </Box>\r\n      <Box width=\"400px\" marginTop=\"20px\">\r\n        <TextField\r\n          fullWidth\r\n          label=\"Last name\"\r\n          value={lastname}\r\n          onChange={(e) => setLastname(e.target.value)}\r\n          variant=\"outlined\"\r\n        />\r\n      </Box>\r\n      <Box width=\"400px\" marginTop=\"20px\">\r\n        <TextField\r\n          fullWidth\r\n          label=\"Email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          type=\"email\"\r\n          variant=\"outlined\"\r\n        />\r\n      </Box>\r\n      <Box width=\"400px\" marginTop=\"20px\">\r\n        <FormControl fullWidth>\r\n          <InputLabel id=\"age-range\">Age Range</InputLabel>\r\n          <Select\r\n            labelId=\"age-range\"\r\n            label=\"Baby Age\"\r\n            value={babyAge}\r\n            onChange={(e) => setBabyAge(e.target.value)}\r\n          >\r\n            {renderBabyRange()}\r\n          </Select>\r\n        </FormControl>\r\n      </Box>\r\n      <Box width=\"400px\" marginTop=\"20px\">\r\n        <TextField\r\n          fullWidth\r\n          label=\"Password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          type=\"password\"\r\n          variant=\"outlined\"\r\n        />\r\n      </Box>\r\n      <Box width=\"400px\" marginTop=\"20px\">\r\n        <TextField\r\n          fullWidth\r\n          value={confirmedPassword}\r\n          onChange={(e) => setConfirmedPassword(e.target.value)}\r\n          label=\"Confirm Password\"\r\n          type=\"password\"\r\n          variant=\"outlined\"\r\n        />\r\n      </Box>\r\n      <Box width=\"400px\" marginTop=\"10px\" display=\"flex\" gap=\"10px\">\r\n        <Typography variant=\"body2\">Already has Account?</Typography>\r\n        <Link to=\"/signin\">Login</Link>\r\n      </Box>\r\n      <Box width=\"400px\" marginTop=\"20px\">\r\n        <FormGroup>\r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                defaultChecked={true}\r\n                value={allowLocation}\r\n                onChange={(e) => setAllowLocation(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Share Location\"\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                defaultChecked={true}\r\n                value={allowNotication}\r\n                onChange={(e) => setAllowNotication(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Open Notication\"\r\n          />\r\n        </FormGroup>\r\n      </Box>\r\n      <Box width=\"400px\" marginTop=\"40px\">\r\n        <Button onClick={handleSubmit} variant=\"contained\">\r\n          Submit\r\n        </Button>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n"]},"metadata":{},"sourceType":"module"}